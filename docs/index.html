<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Utils and 'RStudio' Addins to Make Testing Even More Fun • testthis</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Utils and 'RStudio' Addins to Make Testing Even More Fun">
<meta property="og:description" content="
  Utility functions and 'RStudio' addins to ease the life of people using
  'testthat', 'devtools' and 'usethis' in their package development workflow.
  Hotkeyable addins are provided for such common tasks as switching between a 
  source file and an associated test file, or running unit tests in a single 
  file. 'testthis' also provides utility function to manage and run tests in 
  subdirectories of the test/testthat directory.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">testthis</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.4.9005</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/s-fleck/testthis">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<div id="testthis" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#testthis" class="anchor"></a>testthis</h1></div>
<!-- badges: start -->

<p><strong>testthis</strong> makes unit testing in R more comfortable. It is designed to complement the packages <strong>testthat</strong>, <strong>devtools</strong> and <strong>usethis</strong>.</p>
<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<p>testthis provides RStudio addins for common tasks. These can be called like normal R function, but it is also possible to assigned to hotkeys to them in RStudio (<em>Tools/Modify Keyboard Shortcuts</em>).</p>
<ul>
<li>
<code><a href="reference/test_this.html">test_this()</a></code>: Reloads the package and runs tests associated with the currently open R script file.</li>
<li>
<code><a href="reference/open_testfile.html">open_testfile()</a></code>: Opens the associated testfile in an editor window. If the currently open file already is a testfile, it opens the associated file in the <code>/R</code> directory. Can be used to jump back and forth between both.</li>
</ul>
<p>The <em>associated test file</em> for a file <code>R/foo.R</code> is usually <code>/tests/testhat/test_foo.R</code> (or <code>test-foo.R</code>). You can modify this behaviour by putting the comment <code>#* @testfile anotherfile</code> anywhere in <code>R/foo.R</code>.</p>
<p>testthis also provides functions for managing tests in subdirectories of <code>tests/testthat</code>:</p>
<ul>
<li>
<code><a href="reference/use_testdata.html">use_testdata()</a></code> places a single R object in the <code>tests/testhat/testdata</code> directory. It is analoguous to <code><a href="https://usethis.r-lib.org/reference/use_data.html">usethis::use_data()</a></code>, except that it saves the Object in the <code>.rds</code> format, which is more appropriate for single R objects than <code>.rda</code> or <code>.Rdata</code> (see <code><a href="https://www.rdocumentation.org/packages/base/topics/readRDS">?readRDS</a></code>).</li>
<li>
<code><a href="reference/use_testdata_raw.html">use_testdata_raw()</a></code> creates the directory <code>tests/testhat/testdata-raw</code>. Use this directory to put scripts that generate the data in <code>tests/testhat/testdata</code>.</li>
<li>
<code><a href="reference/read_testdata.html">find_testdata()</a></code> and <code><a href="reference/read_testdata.html">read_testdata()</a></code> are simple helpers to read files saved with <code><a href="reference/use_testdata.html">use_testdata()</a></code>.</li>
<li>
<p><code><a href="reference/use_test_subdir.html">use_test_subdir()</a></code> and <code><a href="reference/test_subdir.html">test_subdir()</a></code> for putting/running tests in subdirectories of <code>tests/testhat/</code>. These tests will <em>not</em> be run on CRAN or by <code><a href="https://www.rdocumentation.org/packages/devtools/topics/test">devtools::test()</a></code>. This is useful for tests that require external ressources (web, databases) or take long to execute.</p>
<p><code><a href="reference/test_subdir.html">test_acceptance()</a></code>, <code><a href="reference/test_subdir.html">test_manual()</a></code> and <code><a href="reference/test_subdir.html">test_integration()</a></code> are presets to run tests in the <code>integration_tests</code>, <code>acceptance_tests</code> and <code>manual_tests</code> subdirectories of <code>test/testthat</code>.</p>
</li>
</ul>
<p>Testthis also provuides some primtivie code analys tools</p>
<ul>
<li>
<code><a href="reference/test_coverage.html">test_coverage()</a></code> lists all functions of package and shows whether they are mentioned in anny <code>test_that(</code> calls’s desc argument; e.g. if you have a testfile containing <code>test_that("testing that function foo works", &lt;...&gt;)</code>, <code>foo()</code> will show up as tested. This can function as a simple todo list for testing, but does not replace a proper test coverage analyzer like <a href="https://github.com/r-lib/covr">covr</a>.</li>
<li>
<code>test_index</code> produces an index of all <code>test_that()</code> calls. Supports RStudio Markers when run interactively from within RStudio.</li>
</ul>
<p>For more details see the <a href="https://s-fleck.github.io/testthis/">function reference</a></p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<pre><code><a href="https://www.rdocumentation.org/packages/utils/topics/install.packages"># Testthis is on CRAN:
install.packages("testthis")

# You can also install the development version from GitHub:
# install.packages("devtools")
devtools::install_github("s-fleck/testthis")</a></code></pre>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(testthis)</a></code></pre></div>
<p>Rstudio addins (can be assigned to hotkeys):</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="reference/open_testfile.html">open_testfile</a></span>()</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="co">## The file `tests/testthat/test_README.Rmd` does not exist. </span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="co">## You can create it with testthis::test_skeleton().</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="kw"><a href="reference/test_skeleton.html">test_skeleton</a></span>()</a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="co">## * Creating `tests/testthat/test_myscript.R`</span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"></a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="kw"><a href="reference/open_testfile.html">open_testfile</a></span>()</a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="co">## &gt; Opens `tests/testthat/test_myscript.R`</span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10"></a>
<a class="sourceLine" id="cb3-11" data-line-number="11"><span class="kw"><a href="reference/test_this.html">test_this</a></span>() </a>
<a class="sourceLine" id="cb3-12" data-line-number="12"><span class="co">## &gt; Runs tests in `tests/testthat/test_myscript.R`</span></a>
<a class="sourceLine" id="cb3-13" data-line-number="13"><span class="co">## &gt; works from the original .R file as well as from the file containing the tests</span></a></code></pre></div>
<p>Code analysis:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw"><a href="reference/test_index.html">test_index</a></span>()</a></code></pre></div>
<div class="figure">
<img src="inst/img/test-index.png" alt="test-index"><p class="caption">test-index</p>
</div>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw"><a href="reference/test_coverage.html">test_coverage</a></span>()</a>
<a class="sourceLine" id="cb5-2" data-line-number="2"></a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="co">## &gt; Package /data/home/fleck/rpkgs/rotor, Test Coverage: 17.8%</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="co">## &gt;</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="co">## &gt; exported functions .................... </span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="co">## &gt; u fun          </span></a>
<a class="sourceLine" id="cb5-7" data-line-number="7"><span class="co">## &gt; + backup       </span></a>
<a class="sourceLine" id="cb5-8" data-line-number="8"><span class="co">## &gt; + backup_date  </span></a>
<a class="sourceLine" id="cb5-9" data-line-number="9"><span class="co">## &gt; + backup_time  </span></a>
<a class="sourceLine" id="cb5-10" data-line-number="10"><span class="co">## &gt; ...</span></a>
<a class="sourceLine" id="cb5-11" data-line-number="11"></a>
<a class="sourceLine" id="cb5-12" data-line-number="12"><span class="co"># 'u' stands for 'unit tests', more columns are possible if you use the </span></a>
<a class="sourceLine" id="cb5-13" data-line-number="13"><span class="co"># test_subdir() feature of testthis</span></a></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=testthis">https://​cloud.r-project.org/​package=testthis</a>
</li>
<li>Browse source code at <br><a href="https://github.com/s-fleck/testthis">https://​github.com/​s-fleck/​testthis</a>
</li>
<li>Report a bug at <br><a href="https://github.com/s-fleck/testthis/issues">https://​github.com/​s-fleck/​testthis/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Stefan Fleck <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://cran.r-project.org/package=testthis"><img src="http://www.r-pkg.org/badges/version/testthis" alt="CRAN status"></a></li>
<li><a href="https://travis-ci.org/s-fleck/testthis"><img src="https://travis-ci.org/s-fleck/testthis.svg?branch=master" alt="Travis build status"></a></li>
<li><a href="https://codecov.io/gh/s-fleck/testthis?branch=master"><img src="https://codecov.io/gh/s-fleck/testthis/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Stefan Fleck.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.9000.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
