<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Utils and RStudio Addins to Make Testing Even More Fun • testthis</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Utils and RStudio Addins to Make Testing Even More Fun">
<meta property="og:description" content="Utility functions and RStudio addins for writing,
    running and organizing automated tests. Integrates tightly with the
    packages testthat, devtools and usethis.  Hotkeys can be
    assigned to the RStudio addins for running tests in a single file or
    to switch between a source file and the associated test file. In
    addition, testthis provides function to manage and run tests in
    subdirectories of the test/testthat directory.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">testthis</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/s-fleck/testthis/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="testthis" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#testthis" class="anchor"></a>testthis</h1></div>
<!-- badges: start -->

<p><strong>testthis</strong> makes unit testing in R more comfortable. It is designed to complement the packages <a href="https://github.com/r-lib/testthat">testthat</a>, <a href="https://github.com/r-lib/devtools">devtools</a> and <a href="https://github.com/r-lib/usethis">usethis</a>.</p>
<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<p>testthis provides RStudio addins for working with files that contain tests. These can be called like normal R function, but it is also possible to assigned them to hotkeys RStudio (<em>Tools/Modify Keyboard Shortcuts</em>).</p>
<ul>
<li>
<code><a href="reference/test_this.html">test_this()</a></code>: Reloads the package and runs tests associated with the currently open R script file.</li>
<li>
<code><a href="reference/open_testfile.html">open_testfile()</a></code>: Opens the associated test file in an editor window. If the currently open file already is a test file, it opens the associated file in the <code>/R</code> directory. Can be used to jump back and forth between both.</li>
</ul>
<p>The <em>associated test file</em> for a file <code>R/foo.R</code> is usually <code>/tests/testhat/test_foo.R</code> (or <code>test-foo.R</code>). You can modify this behavior by putting the comment <code>#* @testfile anotherfile</code> anywhere in <code>R/foo.R</code>.</p>
<p>testthis also provides functions for managing tests in subdirectories of <code>tests/testthat</code>:</p>
<ul>
<li><p><code><a href="reference/use_testdata.html">use_testdata()</a></code> places a single R object in the <code>tests/testhat/testdata</code> directory. It is analogous to <code><a href="https://usethis.r-lib.org/reference/use_data.html">usethis::use_data()</a></code>, except that it saves the object in the <code>.rds</code> format, which is more appropriate for single R objects than <code>.rda</code> or <code>.Rdata</code> (see <code><a href="https://rdrr.io/r/base/readRDS.html">?readRDS</a></code>).</p></li>
<li><p><code><a href="reference/use_testdata.html">use_testdata_raw()</a></code> creates the directory <code>tests/testhat/testdata-raw</code>. Use this directory to put scripts that generate the data in <code>tests/testhat/testdata</code>.</p></li>
<li><p><code><a href="reference/use_testdata.html">find_testdata()</a></code> and <code><a href="reference/use_testdata.html">read_testdata()</a></code> are simple helpers to read files saved with <code><a href="reference/use_testdata.html">use_testdata()</a></code>.</p></li>
<li>
<p><code><a href="reference/use_test_subdir.html">use_test_subdir()</a></code> and <code><a href="reference/test_subdir.html">test_subdir()</a></code> for putting/running tests in subdirectories of <code>tests/testhat/</code>. These tests will <em>not</em> be run on CRAN or by <code><a href="https://devtools.r-lib.org//reference/test.html">devtools::test()</a></code>. This is useful for tests that take a long time to execute, or that require external resources (web, databases) that may not always be available.</p>
<p><code><a href="reference/test_subdir.html">test_acceptance()</a></code>, <code><a href="reference/test_subdir.html">test_manual()</a></code> and <code><a href="reference/test_subdir.html">test_integration()</a></code> are presets to run tests in the <code>integration_tests</code>, <code>acceptance_tests</code> and <code>manual_tests</code> subdirectories of <code>test/testthat</code>.</p>
</li>
</ul>
<p>Testthis also provides some simple code analysis tools</p>
<ul>
<li>
<code><a href="reference/test_coverage.html">test_coverage()</a></code> lists all functions of package and shows whether they are mentioned in any <code>test_that()</code> call’s desc argument; e.g. if you have a test file containing <code>test_that("testing that function foo works", &lt;...&gt;)</code>, <code>foo()</code> will show up marked as tested. This can be used as a simple todo list for testing, but does not replace a proper test coverage analyzer like <a href="https://github.com/r-lib/covr">covr</a>.</li>
<li>
<code><a href="reference/test_index.html">test_index()</a></code> produces an index of all <code>test_that()</code> calls. Supports RStudio Markers when run interactively from within RStudio.</li>
</ul>
<p>For more details see the <a href="https://s-fleck.github.io/testthis/reference/index.html">function reference</a></p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="co"># Testthis is on CRAN:</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">install.packages</span>(<span class="st">"testthis"</span>)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="co"># You can also install the development version from GitHub:</span></a>
<a class="sourceLine" id="cb1-5" data-line-number="5"><span class="co"># install.packages("devtools")</span></a>
<a class="sourceLine" id="cb1-6" data-line-number="6">devtools<span class="op">::</span><span class="kw">install_github</span>(<span class="st">"s-fleck/testthis"</span>)</a></code></pre></div>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<div class="sourceCode" id="cb2"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">testthis</span>)</pre></div>
<p>RStudio addins (can be assigned to hotkeys):</p>
<div class="sourceCode" id="cb3"><pre class="r"><span class="fu"><a href="reference/open_testfile.html">open_testfile</a></span>()
<span class="co">## The file `tests/testthat/test_README.Rmd` does not exist. </span>
<span class="co">## You can create it with testthis::test_skeleton().</span>

<span class="fu"><a href="reference/test_skeleton.html">test_skeleton</a></span>()
<span class="co">## * Creating `tests/testthat/test_myscript.R`</span>

<span class="fu"><a href="reference/open_testfile.html">open_testfile</a></span>()
<span class="co">## &gt; Opens `tests/testthat/test_myscript.R`</span>

<span class="fu"><a href="reference/test_this.html">test_this</a></span>()
<span class="co">## &gt; Runs tests in `tests/testthat/test_myscript.R`</span>
<span class="co">## &gt; works from the original .R file as well as from the file containing the tests</span></pre></div>
<p>Code analysis:</p>
<div class="sourceCode" id="cb4"><pre class="r"><span class="fu"><a href="reference/test_index.html">test_index</a></span>()</pre></div>
<p><img src="inst/img/test-index.png" alt="test-index"></p>
<div class="sourceCode" id="cb5"><pre class="r"><span class="fu"><a href="reference/test_coverage.html">test_coverage</a></span>()

<span class="co">## &gt; Package /data/home/fleck/rpkgs/rotor, Test Coverage: 17.8%</span>
<span class="co">## &gt;</span>
<span class="co">## &gt; exported functions .................... </span>
<span class="co">## &gt; u fun          </span>
<span class="co">## &gt; + backup       </span>
<span class="co">## &gt; + backup_date  </span>
<span class="co">## &gt; + backup_time  </span>
<span class="co">## &gt; ...</span>

<span class="co"># 'u' stands for 'unit tests', more columns are possible if you use the </span>
<span class="co"># test_subdir() feature of testthis</span></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=testthis">https://​cloud.r-project.org/​package=testthis</a>
</li>
<li>Browse source code at <br><a href="https://github.com/s-fleck/testthis/">https://​github.com/​s-fleck/​testthis/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/s-fleck/testthis/issues">https://​github.com/​s-fleck/​testthis/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Stefan Fleck <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-3344-9851" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://cran.r-project.org/package=testthis"><img src="http://www.r-pkg.org/badges/version/testthis" alt="CRAN status"></a></li>
<li><a href="https://travis-ci.org/s-fleck/testthis"><img src="https://travis-ci.org/s-fleck/testthis.svg?branch=master" alt="Travis build status"></a></li>
<li><a href="https://codecov.io/gh/s-fleck/testthis?branch=master"><img src="https://codecov.io/gh/s-fleck/testthis/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Stefan Fleck.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
